(function(t){function e(e){for(var r,s,c=e[0],i=e[1],u=e[2],p=0,d=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/my-project/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0418":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",[n("header",[n("div",[n("b-jumbotron",{attrs:{"bg-variant":"info","text-variant":"white"}},[n("template",{slot:"header"},[n("h2",[t._v("\n                            "+t._s(t.name)+"\n                        ")])]),n("template",{slot:"lead"},[t._v("\n                        "+t._s(t.content)+"\n                    ")])],2)],1)])])],1)},a=[],o={name:"Header",props:["name","content"]},s=o,c=n("2877"),i=Object(c["a"])(s,r,a,!1,null,null,null);e["a"]=i.exports},1:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},o=[],s={name:"app"},c=s,i=n("2877"),u=Object(i["a"])(c,a,o,!1,null,null,null),l=u.exports,p=n("5f5b"),d=n("8c4f"),b=(n("f9e3"),n("2dd8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Header",{attrs:{name:"DCEP测试原型",content:"测试原型123balabala"}})],1)],1),n("b-row",t._l(t.roles,(function(e){return n("b-col",{key:e.name,attrs:{md:"3"}},[n("div",[n("b-card",{attrs:{title:e.content,"img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":""}},[n("b-card-text",[t._v("\n                    "+t._s(e.desc)+"\n                ")]),n("b-button",{attrs:{href:"#",variant:"primary"},on:{click:function(n){return t.navigateTo(e.path)}}},[t._v("登陆")])],1),n("br")],1)])})),1),n("b-row",[n("b-col",[n("Footer",{attrs:{name:"Findata"}})],1)],1)],1)}),h=[],m=n("0418"),f=n("fd2d"),v={name:"Login",components:{Header:m["a"],Footer:f["a"]},props:{msg:String},methods:{navigateTo:function(t){this.$router.push(t)}},data:function(){return{roles:[{name:"register",content:"数字货币登记中心",desc:"负责记录数字货币所有权的转换过程。",path:"/register"},{name:"bank",content:"商业银行",desc:"辅助央行发行DCEP。",path:"/bank"},{name:"userA",content:"用户A",desc:"用户A的DCEP钱包。",path:"/user/A"},{name:"userB",content:"用户B",desc:"用户B的DCEP钱包。",path:"/user/B"}]}}},g=v,w=Object(i["a"])(g,b,h,!1,null,"5e405b16",null),y=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Header",{attrs:{name:"DCEP测试原型：数字货币登记中心",content:"查看所有已经存在的数字货币"}})],1)],1),n("b-row",[n("b-col",[n("p",[n("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return t.navigateTo("/register/issue")}}},[t._v("发行新货币")])],1)])],1),t._l(t.coins,(function(e){return n("b-row",{key:e.id},[n("b-col",[n("b-card",{attrs:{"border-variant":"dark",header:t.cardAmount(e.amount),title:t.cardTitle(e.id)}},[n("b-card-text",[t._v("拥有者公钥: "+t._s(e.owner))]),n("b-card-text",[t._v("拥有者姓名: "+t._s(e.owner_name))])],1),n("br")],1)],1)})),n("b-row",[n("b-col",[n("Footer",{attrs:{name:"Findata"}})],1)],1)],2)},_=[],k=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("96cf"),n("3b8d")),K=n("bc3a"),S=n.n(K),C="http://localhost:8501/api/v0.1/coin",O="http://localhost:8500/api/v0.1/certificate",j={name:"Register",components:{Header:m["a"],Footer:f["a"]},props:{msg:String},methods:{navigateTo:function(t){this.$router.push(t)},cardTitle:function(t){return"货币ID:"+t},cardAmount:function(t){return"面额 "+t/100+" 元货币"}},mounted:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o,s,c,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(C);case 2:e=t.sent,console.log(e.data.data),n=!0,r=!1,a=void 0,t.prev=7,o=e.data.data[Symbol.iterator]();case 9:if(n=(s=o.next()).done){t.next=24;break}return c=s.value,i={},t.next=14,S.a.get("".concat(O,"/").concat(c.owner));case 14:u=t.sent,i.owner_name=u.data.data.user.name,i.amount=c.amount,i.owner=c.owner,i.id=c.hash,console.log(i),this.coins.push(i);case 21:n=!0,t.next=9;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](7),r=!0,a=t.t0;case 30:t.prev=30,t.prev=31,n||null==o.return||o.return();case 33:if(t.prev=33,!r){t.next=36;break}throw a;case 36:return t.finish(33);case 37:return t.finish(30);case 38:case"end":return t.stop()}}),t,this,[[7,26,30,38],[31,,33,37]])})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{coins:[]}}},P=j,$=Object(i["a"])(P,x,_,!1,null,"7b90c786",null),R=$.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Header",{attrs:{name:"DCEP测试原型：货币发行",content:"央行发行新的数字货币"}})],1)],1),n("b-row",[n("b-col",[n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:t.addPlan}},[t._v("添加新的发行计划")])],1)],1),n("br"),n("b-row",[n("b-col",[n("b-form-input",{attrs:{"aria-label":"面额",placeholder:"请输入发行的拥有者公钥"},model:{value:t.owner,callback:function(e){t.owner=e},expression:"owner"}}),n("br")],1)],1),n("b-row",[n("b-col",t._l(t.plans.length,(function(e){return n("div",{key:e},[n("div",[n("b-input-group",{staticClass:"mb-2",attrs:{prepend:"面额与数量"}},[n("b-form-input",{attrs:{"aria-label":"面额",placeholder:"请输入面额"},model:{value:t.plans[e-1].amount,callback:function(n){t.$set(t.plans[e-1],"amount",n)},expression:"plans[i-1].amount"}}),n("b-form-input",{attrs:{"aria-label":"数量",placeholder:"请输入数量"},model:{value:t.plans[e-1].total,callback:function(n){t.$set(t.plans[e-1],"total",n)},expression:"plans[i-1].total"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"outline-success"},on:{click:function(n){return t.delPlan(e-1)}}},[t._v("删除")])],1)],1)],1)])})),0)],1),n("b-row",[n("b-col",[t.uploadDisplay?n("b-button",{attrs:{variant:"primary",disabled:t.status.uploader.upload},on:{click:function(e){return t.uploadPlan()}}},[t.status.uploader.upload?n("span",[n("b-spinner",{attrs:{small:""}}),t._v("\n                    提交中 ...\n                ")],1):t._e(),t.status.uploader.upload?t._e():n("span",[t._v("\n                    提交\n                ")])]):t._e()],1)],1),n("br"),n("br"),n("b-row",[n("b-col",[n("Footer",{attrs:{name:"Findata"}})],1)],1)],1)},T=[],E="http://localhost:8501/api/v0.1/issue",D={name:"Register",components:{Header:m["a"],Footer:f["a"]},props:{msg:String},methods:{navigateTo:function(t){this.$router.push(t)},addPlan:function(){this.plans.push({})},delPlan:function(t){this.plans.length>=0&&this.plans.splice(t,1)},uploadPlan:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.status.uploader.upload=!0,t.next=3,S.a.post(E,{coins:this.plans,owner:this.owner});case 3:e=t.sent,console.log(e.data),this.status.uploader.upload=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{uploadDisplay:function(){return 0!=this.plans.length}},data:function(){return{plans:[],owner:"",status:{uploader:{upload:!1}}}}},A=D,I=Object(i["a"])(A,F,T,!1,null,"68404e71",null),H=I.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Header",{attrs:{name:"DCEP测试原型",content:"测试原型123balabala"}})],1)],1),n("b-row",[n("b-col",[n("div",[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[t._v("显示公钥信息")]),n("b-modal",{attrs:{id:"modal-1",title:"BootstrapVue"}},[n("p",[t._v("姓名:"+t._s(t.name))]),n("p",[t._v("公钥:"+t._s(t.displayPublicKey))])])],1),n("br"),n("div",[n("b-input-group",{staticClass:"mt-3",attrs:{prepend:"输入交易序列"}},[n("b-form-input",{model:{value:t.txid,callback:function(e){t.txid=e},expression:"txid"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"outline-success"},on:{click:t.recvCoin}},[t._v("接收货币")])],1)],1)],1),n("br")])],1),t._l(t.coins.length,(function(e){return n("b-row",{key:e},[n("b-col",[n("b-card",{attrs:{"border-variant":t.computedColor(t.coins[e-1].selected),header:t.cardAmount(t.coins[e-1].amount),title:t.cardTitle(t.coins[e-1].id)},on:{click:function(n){return t.selectCard(e-1)}}},[n("b-card-text",[t._v("发行方: 中国人民银行")])],1),n("br")],1)],1)})),n("b-row",[n("b-col",[t.isSelected?n("b-button",{attrs:{block:"",variant:"primary"},on:{click:t.sendCoin}},[t.status.upload?n("span",[n("b-spinner",{attrs:{small:""}}),t._v("\n                    提交中 ...\n                ")],1):t._e(),t.status.upload?t._e():n("span",[t._v("\n                    提交\n                ")])]):t._e(),n("b-modal",{ref:"qrcode",attrs:{id:"qrcode",title:"请扫描二维码",centered:""}},[n("p",[t._v("\n                    转账码为: "+t._s(t.status.code)+"\n                ")]),n("p",[n("img",{staticClass:"qr",attrs:{src:t.status.img}})])])],1)],1),n("b-row",[n("b-col",[n("Footer",{attrs:{name:"Findata"}})],1)],1)],2)},q=[],B=n("eda4"),N=B["a"],J=(n("65d3"),Object(i["a"])(N,U,q,!1,null,"50229b17",null)),M=J.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Header",{attrs:{name:"DCEP测试原型",content:"测试原型123balabala"}})],1)],1),n("b-row",[n("b-col",[n("p",[t._v("您收到了一笔转账，转账货币列表如下")])])],1),t._l(t.coins.length,(function(e){return n("b-row",{key:e},[n("b-col",[n("b-card",{attrs:{"border-variant":t.computedColor(t.coins[e-1].selected),header:t.cardAmount(t.coins[e-1].amount),title:t.cardTitle(t.coins[e-1].id)}},[n("b-card-text",[t._v("发行方: 中国人民银行")])],1),n("br")],1)],1)})),n("b-row",[n("b-col",[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.qrcode",modifiers:{qrcode:!0}}],attrs:{block:"",variant:"primary"},on:{click:t.recvCoin}},[1==t.status.upload?n("span",[n("b-spinner",{attrs:{small:""}}),t._v("\n                    收款中 ...\n                ")],1):t._e(),0==t.status.upload?n("span",[t._v("\n                    点击收款\n                ")]):t._e(),2==t.status.upload?n("span",[t._v("\n                    收款成功\n                ")]):t._e()])],1)],1),n("b-row",[n("b-col",[n("Footer",{attrs:{name:"Findata"}})],1)],1)],2)},V=[],Q="http://localhost:8501/api/v0.1/transfer/fetch",z="http://localhost:8501/api/v0.1/transfer/recv",G={name:"Recv",components:{Header:m["a"],Footer:f["a"]},props:{msg:String},methods:{navigateTo:function(t){this.$router.push(t)},cardTitle:function(t){return"货币ID:"+t},cardAmount:function(t){return"面额 "+t/100+" 元货币"},computedColor:function(t){return t?"warning":"dark"},recvCoin:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.status.upload=1,e=this.$route.params.id,n=localStorage.getItem("User".concat(e,"Info")),r=JSON.parse(n),t.next=6,S.a.post("".concat(z,"/").concat(this.$route.params.txid),{target:r.publicKey});case 6:a=t.sent,console.log(a),this.status.upload=2;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.$route.params.txid),t.next=3,S.a.get("".concat(Q,"/").concat(this.$route.params.txid));case 3:for(e=t.sent,console.log(e.data),n=!0,r=!1,a=void 0,t.prev=8,o=e.data.data[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)c=s.value,i={},i.amount=c.amount,i.owner=c.owner,i.id=c.hash,this.coins.push(i);t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),r=!0,a=t.t0;case 16:t.prev=16,t.prev=17,n||null==o.return||o.return();case 19:if(t.prev=19,!r){t.next=22;break}throw a;case 22:return t.finish(19);case 23:return t.finish(16);case 24:case"end":return t.stop()}}),t,this,[[8,12,16,24],[17,,19,23]])})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{coins:[],status:{upload:0}}}},W=G,X=Object(i["a"])(W,L,V,!1,null,"309c11ba",null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Header",{attrs:{name:"DCEP测试原型",content:"测试原型123balabala"}})],1)],1),n("b-row",[n("b-col",[n("div",[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[t._v("显示公钥信息")]),n("b-modal",{attrs:{id:"modal-1",title:"BootstrapVue"}},[n("p",[t._v("姓名:"+t._s(t.name))]),n("p",[t._v("公钥:"+t._s(t.displayPublicKey))])])],1),n("br")])],1),t._l(t.coins.length,(function(e){return n("b-row",{key:e},[n("b-col",[n("b-card",{attrs:{"border-variant":t.computedColor(t.coins[e-1].selected),header:t.cardAmount(t.coins[e-1].amount),title:t.cardTitle(t.coins[e-1].id)},on:{click:function(n){return t.selectCard(e-1)}}},[n("b-card-text",[t._v("发行方: 中国人民银行")])],1),n("br")],1)],1)})),n("b-row",[n("b-col",[t.isSelected?n("b-button",{attrs:{block:"",variant:"primary"},on:{click:t.sendCoin}},[t.status.upload?n("span",[n("b-spinner",{attrs:{small:""}}),t._v("\n                    提交中 ...\n                ")],1):t._e(),t.status.upload?t._e():n("span",[t._v("\n                    提交\n                ")])]):t._e(),n("b-modal",{ref:"qrcode",attrs:{id:"qrcode",title:"请扫描二维码",centered:""}},[n("p",[t._v("\n                    转账码为: "+t._s(t.status.code)+"\n                ")]),n("p",[n("img",{staticClass:"qr",attrs:{src:t.status.img}})])])],1)],1),n("b-row",[n("b-col",[n("Footer",{attrs:{name:"Findata"}})],1)],1)],2)},tt=[],et=n("a4c0"),nt=et["a"],rt=(n("a152"),Object(i["a"])(nt,Z,tt,!1,null,"750b8bee",null)),at=rt.exports;r["default"].config.productionTip=!1,r["default"].use(p["a"]),r["default"].use(d["a"]);var ot=new d["a"]({routes:[{path:"/",component:y},{path:"/register",component:R},{path:"/register/issue",component:H},{path:"/user/:id",component:M},{path:"/bank",component:at},{path:"/user/:id/recv/:txid/",component:Y}]});new r["default"]({render:function(t){return t(l)},router:ot}).$mount("#app")},"65d3":function(t,e,n){"use strict";var r=n("f23a"),a=n.n(r);a.a},"7ef2":function(t,e,n){},a152:function(t,e,n){"use strict";var r=n("7ef2"),a=n.n(r);a.a},a4c0:function(t,e,n){"use strict";(function(t){n("34ef"),n("6b54"),n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("96cf");var r=n("3b8d"),a=n("0418"),o=n("fd2d"),s=n("d055"),c=n.n(s),i=n("58a4"),u=n.n(i),l=n("bc3a"),p=n.n(l),d="http://localhost:8500/api/v0.1/certificate",b="http://localhost:8501/api/v0.1/owner",h="http://localhost:8501/api/v0.1/transfer/send";e["a"]={name:"User",components:{Header:a["a"],Footer:o["a"]},methods:{navigateTo:function(t){this.$router.push(t)},cardTitle:function(t){return"货币ID:"+t},cardAmount:function(t){return"面额 "+t/100+" 元货币"},selectCard:function(t){0==this.coins[t].selected?(this.coins[t].selected=!0,this.status.selected++):(this.coins[t].selected=!1,this.status.selected--)},computedColor:function(t){return t?"warning":"dark"},sendCoin:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o,s,i,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.status.upload=!0,e=[],n=!0,r=!1,a=void 0,t.prev=5,o=this.coins[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)i=s.value,i.selected&&e.push(i.id);t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](5),r=!0,a=t.t0;case 13:t.prev=13,t.prev=14,n||null==o.return||o.return();case 16:if(t.prev=16,!r){t.next=19;break}throw a;case 19:return t.finish(16);case 20:return t.finish(13);case 21:return t.next=23,p.a.post(h,{coins:e});case 23:return u=t.sent,console.log(u.data),this.status.code=u.data.data,t.next=28,c.a.toDataURL(this.status.code);case 28:l=t.sent,this.status.img=l,this.status.upload=!1,this.$refs["qrcode"].show();case 32:case"end":return t.stop()}}),t,this,[[5,9,13,21],[14,,16,20]])})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o,s,c,i,l,h,m,f,v,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("BankInfo"),null!=n){e.next=14;break}return this.name="商业银行",r=u.a.sign.keyPair(),this.publicKey=r.publicKey,this.secretKey=r.secretKey,a={name:this.name,publicKey:t.from(this.publicKey).toString("hex"),secretKey:t.from(this.secretKey).toString("hex")},localStorage.setItem("BankInfo",JSON.stringify(a)),e.next=10,p.a.post(d,{name:"商业银行",email:"example@example.com",publicKey:a.publicKey});case 10:o=e.sent,console.log(o.data),e.next=18;break;case 14:s=JSON.parse(n),this.name=s.name,this.publicKey=Uint8Array.from(t.from(s.publicKey,"hex")),this.secretKey=Uint8Array.from(t.from(s.secretKey,"hex"));case 18:return e.next=20,p.a.get("".concat(b,"/").concat(t.from(this.publicKey).toString("hex")));case 20:for(c=e.sent,i=!0,l=!1,h=void 0,e.prev=24,m=c.data.data[Symbol.iterator]();!(i=(f=m.next()).done);i=!0)v=f.value,g={},g.amount=v.amount,g.owner=v.owner,g.id=v.hash,g.selected=!1,console.log(g),this.coins.push(g);e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](24),l=!0,h=e.t0;case 32:e.prev=32,e.prev=33,i||null==m.return||m.return();case 35:if(e.prev=35,!l){e.next=38;break}throw h;case 38:return e.finish(35);case 39:return e.finish(32);case 40:case"end":return e.stop()}}),e,this,[[24,28,32,40],[33,,35,39]])})));function n(){return e.apply(this,arguments)}return n}(),computed:{isSelected:function(){return 0!=this.status.selected},displayPublicKey:function(){return t.from(this.publicKey).toString("hex")}},data:function(){return{coins:[],name:"商业银行",publicKey:"",secretKey:"",status:{selected:0,code:"asdasdasdsds",img:null,upload:!1}}}}}).call(this,n("b639").Buffer)},eda4:function(t,e,n){"use strict";(function(t){n("34ef"),n("6b54"),n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("96cf");var r=n("3b8d"),a=n("0418"),o=n("fd2d"),s=n("d055"),c=n.n(s),i=n("58a4"),u=n.n(i),l=n("bc3a"),p=n.n(l),d=n("1634"),b="http://localhost:8500/api/v0.1/certificate",h="http://localhost:8501/api/v0.1/owner",m="http://localhost:8501/api/v0.1/transfer/send";e["a"]={name:"User",components:{Header:a["a"],Footer:o["a"]},methods:{navigateTo:function(t){this.$router.push(t)},cardTitle:function(t){return"货币ID:"+t},cardAmount:function(t){return"面额 "+t/100+" 元货币"},selectCard:function(t){0==this.coins[t].selected?(this.coins[t].selected=!0,this.status.selected++):(this.coins[t].selected=!1,this.status.selected--)},computedColor:function(t){return t?"warning":"dark"},sendCoin:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o,s,i,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.status.upload=!0,e=[],n=!0,r=!1,a=void 0,t.prev=5,o=this.coins[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)i=s.value,i.selected&&e.push(i.id);t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](5),r=!0,a=t.t0;case 13:t.prev=13,t.prev=14,n||null==o.return||o.return();case 16:if(t.prev=16,!r){t.next=19;break}throw a;case 19:return t.finish(16);case 20:return t.finish(13);case 21:return t.next=23,p.a.post(m,{coins:e});case 23:return u=t.sent,console.log(u.data),this.status.code=u.data.data,t.next=28,c.a.toDataURL(this.status.code);case 28:l=t.sent,this.status.img=l,this.status.upload=!1,this.$refs["qrcode"].show();case 32:case"end":return t.stop()}}),t,this,[[5,9,13,21],[14,,16,20]])})));function e(){return t.apply(this,arguments)}return e}(),recvCoin:function(){console.log(this.txid);var t=this.$route.params.id;this.$router.push("/user/".concat(t,"/recv/").concat(this.txid,"/"))},scanQrCode:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.file),t.prev=1,t.next=4,d["a"].scanImage(this.file);case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),alert(t.t0);case 10:console.log(result);case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o,s,c,i,l,d,m,f,v,g,w;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.$route.params.id,r=localStorage.getItem("User".concat(n,"Info")),null!=r){e.next=15;break}return this.name="用户".concat(n),a=u.a.sign.keyPair(),this.publicKey=a.publicKey,this.secretKey=a.secretKey,o={name:this.name,publicKey:t.from(this.publicKey).toString("hex"),secretKey:t.from(this.secretKey).toString("hex")},localStorage.setItem("User".concat(n,"Info"),JSON.stringify(o)),e.next=11,p.a.post(b,{name:"用户".concat(n),email:"user".concat(n,"@findata.com"),publicKey:o.publicKey});case 11:s=e.sent,console.log(s.data),e.next=19;break;case 15:c=JSON.parse(r),this.name=c.name,this.publicKey=Uint8Array.from(t.from(c.publicKey,"hex")),this.secretKey=Uint8Array.from(t.from(c.secretKey,"hex"));case 19:return e.next=21,p.a.get("".concat(h,"/").concat(t.from(this.publicKey).toString("hex")));case 21:for(i=e.sent,l=!0,d=!1,m=void 0,e.prev=25,f=i.data.data[Symbol.iterator]();!(l=(v=f.next()).done);l=!0)g=v.value,w={},w.amount=g.amount,w.owner=g.owner,w.id=g.hash,w.selected=!1,console.log(w),this.coins.push(w);e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](25),d=!0,m=e.t0;case 33:e.prev=33,e.prev=34,l||null==f.return||f.return();case 36:if(e.prev=36,!d){e.next=39;break}throw m;case 39:return e.finish(36);case 40:return e.finish(33);case 41:case"end":return e.stop()}}),e,this,[[25,29,33,41],[34,,36,40]])})));function n(){return e.apply(this,arguments)}return n}(),computed:{isSelected:function(){return 0!=this.status.selected},displayPublicKey:function(){return t.from(this.publicKey).toString("hex")}},data:function(){return{coins:[],name:"商业银行",publicKey:"",secretKey:"",file:null,txid:null,status:{selected:0,code:"asdasdasdsds",img:null,upload:!1}}}}}).call(this,n("b639").Buffer)},f23a:function(t,e,n){},fd2d:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"pt-4 my-md-5 pt-md-5 border-top"},[n("b-row",[n("b-col",{attrs:{cols:"2"}}),n("b-col",[n("small",{staticClass:"d-block mb-3 text-muted"},[t._v("powered by "+t._s(t.name)+". ")])]),n("b-col",{attrs:{cols:"6"}}),n("b-col",{attrs:{cols:"2"}})],1)],1)},a=[],o={name:"Footer",props:["name"]},s=o,c=n("2877"),i=Object(c["a"])(s,r,a,!1,null,null,null);e["a"]=i.exports}});
//# sourceMappingURL=app.635aff28.js.map